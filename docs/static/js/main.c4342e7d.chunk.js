(this["webpackJsonpwebsocket-client"]=this["webpackJsonpwebsocket-client"]||[]).push([[0],{170:function(e,t,n){"use strict";n.r(t);var c=n(219),i=n(220),s=n(0),a=n.n(s),r=n(12),o=n.n(r),b=n(214),j=n(209),u=n(68),l=n(210),d=n(211),O=n(23),m=n(102),x=n.n(m),p=n(7),h=n(33),f=n(221),v=n(2),g=Object(s.forwardRef)((function(e,t){var n=Object(O.c)(e.name),c=Object(h.a)(n,2),i=c[0],s=c[1],a=Boolean(s.touched&&s.error),r=a?s.error:e.helperText;return Object(v.jsx)(f.a,Object(p.a)(Object(p.a)(Object(p.a)({},i),e),{},{error:a,helperText:r,ref:t}))}));g.defaultProps={fullWidth:!0};var S,C=g,y=n(112),E="CONNECTED",k="DISCONNECTED",T="SUBSCRIPTION_ADDED",D="SUBSCRIPTION_DISABLED",B="SUBSCRIPTION_ENABLED",I="SUBSCRIPTION_REMOVED",R="MESSAGE_RECEIVED",N="MESSAGES_CLEARED";!function(e){e.WEBSOCKET="WebSocket",e.SOCKJS="SockJS"}(S||(S={}));var A=function(e,t){switch(t.type){case E:return{connection:{url:t.url,connected:!0,type:t.connectionType},subscriptions:{},messages:[]};case k:return{connection:{connected:!1,url:null,type:null},subscriptions:{},messages:[]};case T:var n=Object(p.a)({},e.subscriptions);return n[t.destination]=Object(p.a)(Object(p.a)({},t.subscription),{},{enabled:!0}),Object(p.a)(Object(p.a)({},e),{},{subscriptions:n});case D:var c=Object(p.a)({},e.subscriptions),i=c[t.destination];return c[t.destination]=Object(p.a)(Object(p.a)({},i),{},{enabled:!1}),Object(p.a)(Object(p.a)({},e),{},{subscriptions:c});case B:var s=Object(p.a)({},e.subscriptions);return s[t.destination]=Object(p.a)(Object(p.a)({},t.subscription),{},{enabled:!0}),Object(p.a)(Object(p.a)({},e),{},{subscriptions:s});case I:var a=Object(p.a)({},e.subscriptions);return delete a[t.destination],Object(p.a)(Object(p.a)({},e),{},{subscriptions:a});case R:var r=Object(p.a)(Object(p.a)({},t.message),{},{timestamp:t.timestamp}),o=[].concat(Object(y.a)(e.messages),[r]);return Object(p.a)(Object(p.a)({},e),{},{messages:o});case N:return Object(p.a)(Object(p.a)({},e),{},{messages:[]});default:return e}},M=n(107),P=n.n(M),w=n(108),J=function e(){Object(w.a)(this,e)};J.connected=function(e,t){return{type:E,url:e,connectionType:t}},J.disconnected=function(){return{type:k}},J.subscriptionAdded=function(e,t){return{type:T,destination:e,subscription:t}},J.subscriptionDisabled=function(e){return{type:D,destination:e}},J.subscriptionEnabled=function(e,t){return{type:B,destination:e,subscription:t}},J.subscriptionRemoved=function(e){return{type:I,destination:e}},J.messageReceived=function(e){return{type:R,message:e,timestamp:new Date}},J.messagesCleared=function(){return{type:N}};var W={},K=Object(s.createContext)(W),F={connection:{url:null,connected:!1,type:null},subscriptions:{},messages:[]},V=function(){var e=Object(s.useContext)(K);return Object(s.useDebugValue)(e.state),e},_=function(e){var t=Object(s.useRef)(),n=Object(s.useReducer)(A,F),c=Object(h.a)(n,2),i=c[0],a=c[1],r=Object(s.useCallback)((function(e,n){return new Promise((function(c,i){t.current=P.a.over(e),t.current.debug=console.debug,t.current.connect({},(function(){a(J.connected(e.url,n)),c()}),(function(){a(J.disconnected())}))}))}),[]),o=Object(s.useCallback)((function(){var e;null===(e=t.current)||void 0===e||e.disconnect((function(){a(J.disconnected())}))}),[]),b=Object(s.useCallback)((function(e){return t.current.subscribe(e,(function(e){a(J.messageReceived(e))}))}),[]),j=Object(s.useCallback)((function(e){var t=b(e);a(J.subscriptionAdded(e,t))}),[b]),u=Object(s.useCallback)((function(e){var t=i.subscriptions[e];if(t.enabled)t.unsubscribe(),a(J.subscriptionDisabled(e));else{var n=b(e);a(J.subscriptionEnabled(e,n))}}),[b,i.subscriptions]),l=Object(s.useCallback)((function(e){var t=i.subscriptions[e];t.enabled&&t.unsubscribe(),a(J.subscriptionRemoved(e))}),[i.subscriptions]),d=Object(s.useCallback)((function(){a(J.messagesCleared())}),[]),O=Object(s.useCallback)((function(e,n,c){var i;null===(i=t.current)||void 0===i||i.send(e,n,"string"===typeof c?c:JSON.stringify(c))}),[]);return Object(v.jsx)(K.Provider,{value:{state:i,connect:r,disconnect:o,addSubscription:j,toggleSubscription:u,removeSubscription:l,clearMessages:d,send:O},children:e.children})},z={url:"",connectionType:S.WEBSOCKET},G=function(){var e=V().connect;return Object(v.jsx)(O.b,{initialValues:z,onSubmit:function(t){var n,c=t.url,i=t.connectionType;n=i===S.WEBSOCKET?new WebSocket(c):new x.a(c),e(n,i)},children:Object(v.jsxs)(j.a,{container:!0,spacing:2,component:O.a,children:[Object(v.jsx)(j.a,{item:!0,xs:12,children:Object(v.jsx)(u.a,{variant:"h5",children:"Connect to a STOMP Websocket Server"})}),Object(v.jsx)(j.a,{item:!0,xs:12,children:Object(v.jsxs)(C,{name:"connectionType",label:"Type",select:!0,children:[Object(v.jsx)(l.a,{value:S.WEBSOCKET,children:S.WEBSOCKET}),Object(v.jsx)(l.a,{value:S.SOCKJS,children:S.SOCKJS})]})}),Object(v.jsx)(j.a,{item:!0,xs:12,children:Object(v.jsx)(C,{name:"url",label:"URL"})}),Object(v.jsx)(j.a,{item:!0,children:Object(v.jsx)(d.a,{color:"primary",variant:"contained",type:"submit",children:"Connect"})})]})})},U=function(){var e=V(),t=e.state.connection,n=t.url,c=t.type,i=e.disconnect;return Object(v.jsxs)(j.a,{container:!0,spacing:2,direction:"column",children:[Object(v.jsx)(j.a,{item:!0,children:Object(v.jsx)(u.a,{variant:"h5",children:"Connection"})}),Object(v.jsx)(j.a,{item:!0,children:Object(v.jsx)(u.a,{children:"".concat(c," (STOMP)")})}),Object(v.jsx)(j.a,{item:!0,children:Object(v.jsx)(u.a,{children:n})}),Object(v.jsx)(j.a,{item:!0,children:Object(v.jsx)(d.a,{variant:"outlined",size:"small",onClick:i,children:"Disconnect"})})]})},L=n(212),H=n(208),q=n(173),Q=n(213),X=n(222),Y=function(e){try{return JSON.stringify(JSON.parse(e),null,4)}catch(t){return e}},Z=function(){var e=V(),t=e.state.messages,n=e.clearMessages;return Object(v.jsxs)(s.Fragment,{children:[Object(v.jsx)(u.a,{variant:"h5",children:"Messages"}),Object(v.jsx)(L.a,{disableGutters:!0,children:Object(v.jsx)(d.a,{variant:"outlined",onClick:n,size:"small",children:"Clear"})}),Object(v.jsx)(H.a,{children:t.map((function(e,t){return Object(v.jsxs)(s.Fragment,{children:[Object(v.jsx)(q.a,{children:Object(v.jsxs)(j.a,{container:!0,children:[Object(v.jsx)(j.a,{item:!0,xs:12,children:Object(v.jsx)(u.a,{children:(n=e.timestamp,Object(X.a)(n,"HH:mm:ss"))})}),Object.entries(e.headers).map((function(e){var t=Object(h.a)(e,2),n=t[0],c=t[1];return Object(v.jsxs)(s.Fragment,{children:[Object(v.jsx)(j.a,{item:!0,xs:6,children:Object(v.jsx)("code",{children:n+":"})}),Object(v.jsx)(j.a,{item:!0,xs:6,children:Object(v.jsx)("code",{children:c+""})})]},n)})),Object(v.jsx)(j.a,{item:!0,xs:12}),Object(v.jsx)(j.a,{item:!0,xs:12,children:Object(v.jsx)("pre",{children:Object(v.jsx)("code",{children:Y(e.body)})})})]})}),Object(v.jsx)(Q.a,{})]},t);var n}))})]})},$=n(109),ee=(n(162),n(163),n(164),n(165),n(4)),te=Object(b.a)((function(e){return{root:{"& .CodeMirror":{backgroundColor:"inherit"}}}}),{name:"JsonInput"}),ne=function(e){var t=e.className,n=e.onAnimationStart,c=e.onBlur,i=e.onFocus,a=e.onChange,r=e.value,o=e.name,b=te(e),j=function(e){a&&a({target:{value:e,name:o}})};return Object(s.useEffect)((function(){j(r)}),[r]),Object(v.jsx)("div",{className:Object(ee.a)(b.root,t),onFocus:function(e){var t=Object(p.a)(Object(p.a)({},e),{},{target:Object(p.a)(Object(p.a)({},e.target),{},{name:o})});i&&i(t)},onBlur:function(e){var t=Object(p.a)(Object(p.a)({},e),{},{target:Object(p.a)(Object(p.a)({},e.target),{},{name:o})});c&&c(t)},onAnimationStart:function(e){n&&n(e)},children:Object(v.jsx)($.Controlled,{value:r,onBeforeChange:function(e,t,n){j(n)},options:{mode:{name:"javascript",json:!0},theme:"material-darker",autoCloseBrackets:!0}})})},ce=function(e){var t=Object(p.a)(Object(p.a)({},e.InputProps),{},{inputComponent:ne});return Object(v.jsx)(C,Object(p.a)(Object(p.a)({},e),{},{InputProps:t,multiline:!0}))},ie={destination:"",body:""},se=function(){var e=V().send;return Object(v.jsx)(O.b,{initialValues:ie,onSubmit:function(t){e(t.destination,{},t.body)},children:Object(v.jsxs)(j.a,{container:!0,spacing:2,alignItems:"flex-end",component:O.a,children:[Object(v.jsx)(j.a,{item:!0,xs:12,children:Object(v.jsx)(u.a,{variant:"h5",children:"Send Message"})}),Object(v.jsx)(j.a,{item:!0,xs:!0,children:Object(v.jsx)(C,{name:"destination",label:"Destination"})}),Object(v.jsx)(j.a,{item:!0,children:Object(v.jsx)(d.a,{variant:"outlined",color:"primary",fullWidth:!0,type:"submit",size:"small",children:"Send"})}),Object(v.jsx)(j.a,{item:!0,xs:12,children:Object(v.jsx)(ce,{name:"body",label:"Body",variant:"outlined"})})]})})},ae=n(215),re=n(223),oe=n(217),be=n(218),je=n(216),ue={destination:""},le=function(){var e=V().addSubscription;return Object(v.jsx)(O.b,{initialValues:ue,onSubmit:function(t,n){e(t.destination),n.resetForm()},children:Object(v.jsxs)(j.a,{container:!0,spacing:2,alignItems:"flex-end",component:O.a,children:[Object(v.jsx)(j.a,{item:!0,children:Object(v.jsx)(C,{name:"destination",label:"Destination"})}),Object(v.jsx)(j.a,{item:!0,children:Object(v.jsx)(d.a,{variant:"outlined",color:"primary",size:"small",type:"submit",children:"Subscribe"})})]})})},de=n(110),Oe=n.n(de),me=function(){var e=V(),t=e.state.subscriptions,n=e.toggleSubscription,c=e.removeSubscription,i=function(e){return function(){n(e)}},a=function(e){return function(){c(e)}};return Object(v.jsxs)(s.Fragment,{children:[Object(v.jsx)(u.a,{variant:"h5",children:"Subscriptions"}),Object(v.jsx)(L.a,{disableGutters:!0,children:Object(v.jsx)(le,{})}),Object(v.jsx)(H.a,{children:Object.entries(t).map((function(e){var t=Object(h.a)(e,2),n=t[0],c=t[1];return Object(v.jsxs)(q.a,{disableGutters:!0,children:[Object(v.jsx)(ae.a,{children:Object(v.jsx)(re.a,{edge:"start",checked:c.enabled,disableRipple:!0,color:"primary",onClick:i(n)})}),Object(v.jsx)(oe.a,{primary:n}),Object(v.jsx)(be.a,{children:Object(v.jsx)(je.a,{edge:"end",size:"small",color:"secondary",onClick:a(n),children:Object(v.jsx)(Oe.a,{})})})]},n)}))})]})},xe=Object(b.a)((function(e){return{root:{padding:e.spacing(2)}}}),{name:"App"}),pe=function(){var e=xe(),t=V().state.connection;return Object(v.jsx)("main",{className:e.root,children:t.connected?Object(v.jsxs)(j.a,{container:!0,spacing:2,children:[Object(v.jsxs)(j.a,{item:!0,lg:3,container:!0,spacing:2,direction:"column",children:[Object(v.jsx)(j.a,{item:!0,children:Object(v.jsx)(U,{})}),Object(v.jsx)(j.a,{item:!0,children:Object(v.jsx)(me,{})})]}),Object(v.jsx)(j.a,{item:!0,lg:5,children:Object(v.jsx)(se,{})}),Object(v.jsx)(j.a,{item:!0,lg:4,children:Object(v.jsx)(Z,{})})]}):Object(v.jsx)(G,{})})},he=n(111),fe=n(67),ve=Object(he.a)({palette:{type:"dark",primary:{main:fe.a[400]}}});o.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(_,{children:Object(v.jsxs)(c.a,{theme:ve,children:[Object(v.jsx)(i.a,{}),Object(v.jsx)(pe,{})]})})}),document.getElementById("root"))}},[[170,1,2]]]);
//# sourceMappingURL=main.c4342e7d.chunk.js.map